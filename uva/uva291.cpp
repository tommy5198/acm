//back track
#include<cstdio>

//int Ans[44] = {123153452, 123154352, 123451352, 123453152, 123513452, 123543152, 125134532, 125135432, 125315432, 125345132, 125431532, 125435132, 132153452, 132154352, 132534512, 132543512, 134512352, 134512532, 134521532, 134523512, 134532152, 134532512, 135123452, 135125432, 135215432, 135234512, 135432152, 135432512, 152134532, 152135432, 152345312, 152354312, 153123452, 153125432, 153213452, 153254312, 153452132, 153452312, 154312352, 154312532, 154321352, 154325312, 154352132, 154352312};
int house[6][6];
int ans[9];

void DFS(int now, int cnt){
    ans[cnt-1] = now;
    if(cnt == 9){
        //print
        for(int i=0; i<cnt; i++)
            printf("%d", ans[i]);
        printf("\n");
        return ;
    }
    for(int i=1; i<6; i++)
        if(house[now][i]){
            house[now][i] = house[i][now] = false;
            DFS(i, cnt+1);
            house[now][i] = house[i][now] = true;
        }
}

int main(){
    house[1][2] = house[2][1] = house[1][5] = house[5][1] = house[1][3] = house[3][1] = house[2][5] = house[5][2] = true;
    house[5][4] = house[4][5] = house[4][3] = house[3][4] = house[5][3] = house[3][5] = house[3][2] = house[2][3] = true;
    DFS(1, 1);
    return 0;
}
